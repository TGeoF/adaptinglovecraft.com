---
import Layout from "../layouts/Layout.astro";

import Card from "../components/Card.astro";
import SubmissionTable from "../components/SubmissionTable";

import type { Submission } from "../types";

let posts: Submission[] = [
  {
    image: "/media/bookcover.webp",
    headline: "Get the book hot off the presses",
    hook: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ipsum dolor sit amet consectetur. Volutpat maecenas volutpat blandit aliquam etiam erat velit scelerisque in.",
    author: { name: "Tim Lanzend√∂rfer", slug: "tim-lanzendoerfer" },
    tags: ["announcement"],
    double: true,
    slug: "get-the-book-hot-off-the-presses",
  },
  {
    image: "/media/games_600_400.webp",
    headline: "Silent Hill is basically Innsmouth",
    hook: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ipsum dolor sit amet consectetur. Volutpat maecenas volutpat blandit aliquam etiam erat velit scelerisque in.",
    author: { name: "Mareike Musterfrau", slug: "mareike-musterfrau" },
    tags: ["video-games"],
    double: false,
    slug: "silent-hill-is-basically-innsmouth",
  },
  {
    image: "/media/filmtv_600_400.webp",
    headline: "The Call of Cthulhu is basically Innsmouth",
    hook: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ipsum dolor sit amet consectetur. Volutpat maecenas volutpat blandit aliquam etiam erat velit scelerisque in.",
    author: { name: "Theodor Fontane", slug: "theodor-fontane" },
    tags: ["tv-film", "podcast"],
    double: false,
    slug: "the-call-of-cthulhu-is-basically-innsmouth",
  },
];
---

<Layout title="Adapting Lovecraft">
  <main>
    <h1>Adapting Lovecraft</h1>

    <div class="section">
      <div class="sideheadline"><h2>Latest Submissions</h2></div>
      <div class="card-grid">
        {posts.map((post) => <Card submission={post} />)}
      </div>
    </div>
    <div class="section">
      <div class="sideheadline"><h2>All Submissions</h2></div>
      <div class="section-right">
        <div class="table-container">
          <SubmissionTable client:idle submissions={posts} />
        </div>
      </div>
    </div>
  </main>
</Layout>

<style>
  main {
    color: var(--text);
    margin: 0 auto;
    max-width: 1100px;
    min-height: 95dvh;
  }
  h1 {
    margin: 0.5rem 1rem 2rem;
    font-size: 3rem;
    font-weight: 800;
    text-align: center;
    line-height: 1.2;
  }
  main > * + * {
    margin-bottom: 2rem;
  }
  .sideheadline {
    font-size: 1.3rem;
    color: var(--grey-text);
  }
  .section {
    margin: 1.5rem;
    display: grid;
  }
  .card-grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 0;
  }
  .section-right {
    background-color: var(--card);
    border-radius: 0.5rem;
  }
  @media (min-width: 800px) {
    .card-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(24ch, 1fr));
    }
  }
  @media (min-width: 1080px) {
    .section {
      grid-template-columns: 20ch 1fr;
    }
    .section-right {
      margin: 2rem 0 0;
    }
  }
</style>
